<link rel="stylesheet" href="https://cdn.shopify.com/s/files/1/0740/5882/6015/files/swiper-bundle.min.css?v=1712905202">
<script src="https://cdn.shopify.com/s/files/1/0740/5882/6015/files/swiper-bundle.min.js?v=1712905203"></script>
<style>
  .about-article-swiper {
    margin: 100px 0;
    overflow: hidden;
  }

  .about-article-swiper .swiper-wrapper {
    flex-direction: column;
  }

  .about-about-article-swiper .swiper-slide {
  }

  .about-article-item {
    display: flex;
    align-items: center;
  }

  .about-article-img-wrap{
    flex: 1;
    width: 100%;
  }

  .about-article-img {
    {% comment %} flex: 1; {% endcomment %}
    width: 100%;
  }

  .about-article-info {
    flex: 1;
    {% comment %} margin-left: 115px; {% endcomment %}
    width: 100%;
  }

  .about-article-info-left{
    padding-left: 115px;
  }

  .about-article-info-right{
    padding-right: 200px;
  }

  .about-article-info-sub-title {
    font-size: 28px;
    line-height: 1.3;
    color: #e0004d;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
  }

  .about-article-info-title {
    width: 394px;
    font-size: 44px;
    line-height: 1.3;
    margin-bottom: 40px;
    color: #3f3636;
  }

  .about-article-info-desc {
    color: #3f3636;
    font-size: 18px;
    line-height: 1.5;
    margin-bottom: 40px;
  }

  .about-article-info-btn {
    width: 188px;
    height: 48px;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #e0004d;
    font-size: 18px;
    color: #fffffc;
    font-weight: 570;
    cursor: pointer;
    border-radius: 4px;
    border: 1px solid #e0004d;
  }

  .about-article-info-btn:hover .btn-txt {
    color: #e0004d;
  }

  .about-article-item.reverse {
    flex-direction: row-reverse;
  }

  .about-article-item.reverse .about-article-info {
    margin-left: 0;
    {% comment %} margin-right: 200px; {% endcomment %}
  }

  .about-article-item.reverse .about-article-info-title {
    width: auto;
  }

  @media (max-width: 1620px) {
    .about-article-swiper .swiper-wrapper {
      flex-direction: row;
      justify-content: space-between;
    }

    .about-article-swiper .swiper-slide {
      width: 49%;
    }

    .about-article-item {
      flex-direction: column !important;
      align-items: flex-start;
    }

    .about-article-info {
      margin-left: 0;
    }

    .about-article-item.reverse .about-article-info {
      margin-right: 0;
    }

    .about-article-info-left{
      padding-left: 0;
    }

    .about-article-info-right{
      padding-right: 0;
    }

    .about-article-title-wrap {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      height: 120px;
      margin-bottom: 30px;
    }

    .about-article-info-title {
      width: 100%;
      margin-bottom: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .about-article-info-desc {
      margin-bottom: 0;
      height: 110px;
    }
  }

  @media (max-width: 1200px) {
    .about-article-title-wrap {
      height: 100px;
    }

    .about-article-info-title {
      font-size: 35px;
    }

    .about-article-info-sub-title {
      font-size: 22px;
    }
  }

  @media (max-width: 1024px) {
    .about-article-title-wrap {
      height: 90px;
      margin-bottom: 20px;
    }

    .about-article-info-title {
      font-size: 32px;
    }

    .about-article-info-desc {
      height: 130px;
      font-size: 14px;
      height: 120px;
      display: -webkit-box;
      -webkit-line-clamp: 5;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }

  @media (max-width: 768px) {
    .about-article-swiper {
      margin: 60px 0;
    }
    .about-article-title-wrap {
      height: 80px;
      justify-content: center;
    }

    .about-article-info-sub-title {
      font-size: 16px;
    }

    .about-article-info-title {
      font-size: 24px;
      font-weight: 400;
    }

    .about-article-info-desc {
      font-size: 16px;
      line-height: 24px;
      margin-bottom: 10px;
      color: #756b6e;
    }

    .about-article-info-btn {
      width: 150px;
      height: 42px;
      font-size: 12px;
      font-weight: 570;
    }
  }
</style>

<section id="about-article-{{ section.id }}" class="container">
  <div class="about-article-swiper">
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="about-article-item to-top">
            <div class="about-article-img-wrap">
              <img
                class="about-article-img to-top"
                src="{{ section.settings.image_1 | image_url}}"
                width="auto"
                height="auto"
                alt=""
              >
            </div>
            <div class="about-article-info ">
              <div class="about-article-info-left">
                <div class="about-article-title-wrap">
                  <div class="about-article-info-sub-title to-top">{{ section.settings.sub_title_1 }}</div>
                  <div class="about-article-info-title to-top">{{ section.settings.title_1 }}</div>
                </div>
                <div class="about-article-info-desc to-top">
                  {{ section.settings.desc_1 }}
                </div>

                <a
                  class="ipl-product-btn btn-diy about-article-info-btn to-top"
                  href="{{ section.settings.btn_link_1 }}"
                >
                  <div class="btn-txt" text="{{ section.settings.btn_text_1 }}">
                    {{- section.settings.btn_text_1 -}}
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="about-article-item reverse to-top">
            <div class="about-article-img-wrap">
              <img
                class="about-article-img to-top"
                src="{{ section.settings.image_2 | image_url }}"
                width="auto"
                height="auto"
                alt=""
              >
            </div>
            <div class="about-article-info">
              <div class="about-article-info-right">
                <div class="about-article-title-wrap">
                  <div class="about-article-info-title to-top">{{ section.settings.title_2 }}</div>
                </div>
                <div class="about-article-info-desc to-top">
                  {{ section.settings.desc_2 }}
                </div>
                <a
                  class="ipl-product-btn btn-diy about-article-info-btn to-top"
                  href="{{ section.settings.btn_link_2 }}"
                >
                  <div class="btn-txt" text="{{ section.settings.btn_text_2 }}">
                    {{- section.settings.btn_text_2 -}}
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 导航箭头 -->
    <div class="swiper-btn-wrapper">
      <div class="swiper-btn-prev">
        <svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" viewBox="0 0 37 37" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16.9908 6.5148L17.4505 6.05505L18.37 6.97454L17.9103 7.43428L13.7129 11.6316L9.75648 15.5881C9.24867 16.0959 8.42533 16.0959 7.91752 15.5881L12.7935 10.7121L16.9908 6.5148ZM5.61275 18.8123C5.35884 18.5584 5.35884 18.1467 5.61275 17.8928C5.69825 17.8073 5.80163 17.7506 5.91086 17.7227V17.7024H6.07107H6.07392H6.56103L25.4161 17.7024H29.9672C30.6854 17.7024 31.2676 18.2846 31.2676 19.0027H25.4161L7.64216 19.0027L17.9103 29.2709L18.37 29.7306L17.4505 30.6501L16.9908 30.1904L5.61275 18.8123Z" fill="#190A0A"/>
        </svg>
      </div>
      <div class="swiper-btn-next">
        <svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" viewBox="0 0 37 37" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M20.1049 6.5148L19.6452 6.05505L18.7257 6.97454L19.1854 7.43428L23.3828 11.6316L27.3392 15.5881C27.847 16.0959 28.6704 16.0959 29.1782 15.5881L24.3022 10.7121L20.1049 6.5148ZM31.4829 18.8123C31.7369 18.5584 31.7369 18.1467 31.4829 17.8928C31.3975 17.8073 31.2941 17.7506 31.1848 17.7227V17.7024H31.0246H31.0218H30.5347L11.6796 17.7024H7.12847C6.41031 17.7024 5.82813 18.2846 5.82813 19.0027H11.6796L29.4535 19.0027L19.1854 29.2709L18.7257 29.7306L19.6452 30.6501L20.1049 30.1904L31.4829 18.8123Z" fill="#190A0A"/>
        </svg>
      </div>
    </div>
  </div>
</section>

<script>
  $(document).ready(function () {
    {% comment %} $('#about-article-{{ section.id }} *').addClass('to-top'); {% endcomment %}

    var swiperInstance = null;

    function updateButtons(swiper, $prevBtn, $nextBtn) {
      if (swiper.isBeginning) {
        $prevBtn.addClass('disabled').attr('disabled', true);
      } else {
        $prevBtn.removeClass('disabled').attr('disabled', false);
      }

      if (swiper.isEnd) {
        $nextBtn.addClass('disabled').attr('disabled', true);
      } else {
        $nextBtn.removeClass('disabled').attr('disabled', false);
      }
    }

    function initSwiper() {
      swiperInstance = new Swiper('#about-article-{{ section.id }} .about-article-swiper .swiper-container', {
        slidesPerView: 1,
        spaceBetween: 20,
      });

      const $prevBtn = $('#about-article-{{ section.id }} .swiper-btn-prev');
      const $nextBtn = $('#about-article-{{ section.id }} .swiper-btn-next');

      // 初始化按钮状态
      updateButtons(swiperInstance, $prevBtn, $nextBtn);

      // 监听 Swiper 滑动
      swiperInstance.on('slideChange', function () {
        updateButtons(swiperInstance, $prevBtn, $nextBtn);
      });

      // 自定义按钮事件
      $prevBtn.on('click', function () {
        if (!$(this).hasClass('disabled')) {
          swiperInstance.slidePrev();
        }
      });

      $nextBtn.on('click', function () {
        if (!$(this).hasClass('disabled')) {
          swiperInstance.slideNext();
        }
      });
    }

    function destroySwiper() {
      if (swiperInstance) {
        swiperInstance.destroy(true, true);
        swiperInstance = null;
      }
    }

    function handleResize() {
      if ($(window).width() < 768) {
        if (!swiperInstance) {
          initSwiper();
        }
      } else {
        destroySwiper();
      }
    }

    // 初始化判断
    $(document).ready(function () {
      handleResize();

      // 监听窗口变化
      $(window).on('resize', function () {
        handleResize();
      });
    });
  });
</script>

{% schema %}
{
  "name": "u-about-article",
  "settings": [
    {
      "type": "header",
      "content": "内容 1"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "图片"
    },
    {
      "type": "text",
      "id": "title_1",
      "label": "标题",
      "default": "Michael R.Hamblin"
    },
    {
      "type": "text",
      "id": "sub_title_1",
      "label": "副标题",
      "default": "Ulike Chief Scientist"
    },
    {
      "type": "html",
      "id": "desc_1",
      "label": "描述",
      "default": "The Father of Modern Light Therapy <br> Doctoral Supervisor, Harvard-MT Health Sciences and Technology Associate Professor"
    },
    {
      "type": "text",
      "id": "btn_text_1",
      "label": "按钮文本",
      "default": "LEARN MORE"
    },
    {
      "type": "url",
      "id": "btn_link_1",
      "label": "按钮跳转地址"
    },

    {
      "type": "header",
      "content": "内容 2"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "图片"
    },
    {
      "type": "text",
      "id": "title_2",
      "label": "标题",
      "default": "In-house scientist team"
    },
    {
      "type": "html",
      "id": "desc_2",
      "label": "描述",
      "default": "A research and development team comprising over 100 experts has been established. This team independently possesses core technologies in the filed of optical skin beauty."
    },
    {
      "type": "text",
      "id": "btn_text_2",
      "label": "按钮文本",
      "default": "LEARN MORE"
    },
    {
      "type": "url",
      "id": "btn_link_2",
      "label": "按钮跳转地址"
    }
  ],
  "presets": [
    {
      "name": "u-about-article",
      "blocks": []
    }
  ]
}
{% endschema %}
